apiVersion: v1
kind: Namespace
metadata:
  name: talos
---
apiVersion: v1
kind: Secret
metadata:
  name: talos-secrets
  namespace: talos
type: Opaque
stringData:
  database-url: "postgres://talos_user:password@postgres:5432/talos?sslmode=require"
  openrouter-key: "sk-or-v1-..."
  devin-key: "apk_..."
  gpt5-key: "sk-..."
  redis-password: ""
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: talos-config
  namespace: talos
data:
  config.yaml: |
    guardian:
      mode: "swarm"
      risk_threshold: 5.0
      indie_force: true
      dry_run: false
    
    database:
      type: "postgres"
      host: "postgres"
      port: 5432
      database: "talos"
      ssl_mode: "require"
    
    cache:
      redis_addr: "redis:6379"
      redis_db: 0
