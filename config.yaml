server:
  port: "8080"
  mode: "development"
  # Production settings
  read_timeout: "30s"
  write_timeout: "30s"
  idle_timeout: "120s"

ai:
  openrouter_key: "${OPENROUTER_API_KEY}"
  devin_key: "${DEVIN_API_KEY}"
  cache_enabled: true
  # AI request limits
  max_tokens_per_request: 4000
  max_requests_per_minute: 60
  timeout: "30s"

# ROSES/T.O.P.A.Z. Framework Configuration
roses_framework:
  enabled: true
  role: "You are a Senior Cloud Economics Analyst and Cost Optimization Expert using the T.O.P.A.Z. Zero-Sum Learning framework."
  system_instruction: "Apply the T.O.P.A.Z. Zero-Sum Learning logic with strict risk management and anti-fragile system principles."

topaz_logic:
  thresholds:
    max_risk_score: 50.0
    conservative_mode: true
    weekend_multiplier: 1.5
    production_sla: 99.9
  
  antifragile_rules:
    require_anti_fragile_tags: true
    protected_resources:
      - "db-prod-*"
      - "auth-*"
      - "payment-*"
    maintenance_windows:
      - "Saturday 02:00-04:00"
      - "Sunday 02:00-04:00"
  
  learning_engine:
    historical_decisions_limit: 10000
    success_pattern_threshold: 0.8
    failure_pattern_threshold: 0.3

ai_tiers:
  sentinel: "gemini-1.5-flash"
  strategist: "gemini-1.5-pro"
  arbiter: "claude-3-5-sonnet-20240620"
  oracle: "gpt-4o"

redis:
  address: "localhost:6379"
  password: "${REDIS_PASSWORD}"
  db: 0
  cache_ttl: "5m"
  # Connection settings
  max_retries: 3
  pool_size: 10
  min_idle_conns: 5
  dial_timeout: "5s"
  read_timeout: "3s"
  write_timeout: "3s"

database:
  dsn: "${DATABASE_DSN}"

cloud:
  provider: "aws"
  region: "us-east-1"
  dry_run: true
  # Rate limiting
  max_api_calls_per_minute: 100
  retry_attempts: 3
  retry_delay: "1s"
  # Resource filters
  resource_types:
    - "ec2"
    - "rds"
    - "lambda"
    - "ebs"

analytics:
  persist_path: "./talos_tracker_state.json"

jwt:
  secret_key: "${JWT_SECRET_KEY}"
  token_duration: "24h"

sso:
  google:
    client_id: "${GOOGLE_CLIENT_ID}"
    client_secret: "${GOOGLE_CLIENT_SECRET}"
  okta:
    client_id: "${OKTA_CLIENT_ID}"
    client_secret: "${OKTA_CLIENT_SECRET}"
    domain: "${OKTA_DOMAIN}"
  azure:
    client_id: "${AZURE_CLIENT_ID}"
    client_secret: "${AZURE_CLIENT_SECRET}"
    tenant_id: "${AZURE_TENANT_ID}"

worker:
  enabled: true
  concurrency: 10